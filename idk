--// Universal GUI Script with Tabs, Open/Close, Animations + Lock-On Camera + Settings + Search Tabs

-- Create ScreenGui
local gui = Instance.new("ScreenGui")
gui.Name = "UniversalUI"
gui.ResetOnSpawn = false
gui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 500, 0, 300)
mainFrame.Position = UDim2.new(0.5, -250, 0.5, -150)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
mainFrame.Visible = true
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = gui

local UICorner = Instance.new("UICorner", mainFrame)
UICorner.CornerRadius = UDim.new(0, 12)

-- Tab Search Bar
local searchBar = Instance.new("TextBox", mainFrame)
searchBar.Size = UDim2.new(1, -20, 0, 25)
searchBar.Position = UDim2.new(0, 10, 0, 5)
searchBar.PlaceholderText = "Search Tabs..."
searchBar.Text = ""
searchBar.Font = Enum.Font.Gotham
searchBar.TextSize = 14
searchBar.TextColor3 = Color3.fromRGB(255,255,255)
searchBar.BackgroundColor3 = Color3.fromRGB(40,40,40)
Instance.new("UICorner", searchBar).CornerRadius = UDim.new(0,6)

-- Tab Buttons Holder (scrollable)
local tabHolder = Instance.new("ScrollingFrame", mainFrame)
tabHolder.Size = UDim2.new(1, -20, 0, 40)
tabHolder.Position = UDim2.new(0, 10, 0, 35)
tabHolder.CanvasSize = UDim2.new(0,0,0,0)
tabHolder.ScrollBarThickness = 4
tabHolder.AutomaticCanvasSize = Enum.AutomaticSize.X
tabHolder.BackgroundTransparency = 1

local tabLayout = Instance.new("UIListLayout", tabHolder)
tabLayout.FillDirection = Enum.FillDirection.Horizontal
tabLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
tabLayout.Padding = UDim.new(0, 8)

-- Container for tab contents
local contentFrame = Instance.new("Frame", mainFrame)
contentFrame.Size = UDim2.new(1, -20, 1, -80)
contentFrame.Position = UDim2.new(0, 10, 0, 80)
contentFrame.BackgroundTransparency = 1

-- Function to create tabs
local Tabs = {}
local function createTab(name)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 100, 1, 0)
    button.Text = name
    button.Font = Enum.Font.GothamBold
    button.TextSize = 14
    button.TextColor3 = Color3.fromRGB(220,220,220)
    button.BackgroundColor3 = Color3.fromRGB(40,40,40)
    button.Parent = tabHolder
    Instance.new("UICorner", button).CornerRadius = UDim.new(0, 8)

    local tabFrame = Instance.new("ScrollingFrame", contentFrame)
    tabFrame.Size = UDim2.new(1,0,1,0)
    tabFrame.Visible = false
    tabFrame.BackgroundTransparency = 1
    tabFrame.CanvasSize = UDim2.new(0,0,0,0)
    tabFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y

    local layout = Instance.new("UIListLayout", tabFrame)
    layout.Padding = UDim.new(0,6)
    layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    layout.SortOrder = Enum.SortOrder.LayoutOrder

    button.MouseButton1Click:Connect(function()
        for _,t in pairs(Tabs) do
            t.Frame.Visible = false
            t.Button.BackgroundColor3 = Color3.fromRGB(40,40,40)
        end
        tabFrame.Visible = true
        button.BackgroundColor3 = Color3.fromRGB(70,70,70)
    end)

    local tabData = {Button = button, Frame = tabFrame, Name = name}
    table.insert(Tabs, tabData)
    if #Tabs == 1 then -- first tab default open
        tabFrame.Visible = true
        button.BackgroundColor3 = Color3.fromRGB(70,70,70)
    end
    return tabFrame
end

-- Search filter
searchBar:GetPropertyChangedSignal("Text"):Connect(function()
    local query = string.lower(searchBar.Text)
    for _,tab in ipairs(Tabs) do
        if query == "" or string.find(string.lower(tab.Name), query) then
            tab.Button.Visible = true
        else
            tab.Button.Visible = false
        end
    end
end)

--// Tabs
local mainTab = createTab("Main")
local playerTab = createTab("Player")
local visualTab = createTab("Visuals")
local settingsTab = createTab("Settings")
local funTab = createTab("Fun")

--// Buttons Utility
local function createButton(tab, text, callback)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0.9,0,0,30)
    btn.Text = text
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 14
    btn.TextColor3 = Color3.new(1,1,1)
    btn.BackgroundColor3 = Color3.fromRGB(50,50,50)
    btn.Parent = tab
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0,6)

    btn.MouseEnter:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(80,80,80)
    end)
    btn.MouseLeave:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(50,50,50)
    end)

    btn.MouseButton1Click:Connect(callback)
end

-- (⚡ keep all the same tab contents you had here: Main, Player, Visuals, Settings, Fun...)

--// OPEN/CLOSE BUTTON
local toggleBtn = Instance.new("TextButton", gui)
toggleBtn.Size = UDim2.new(0,40,0,40)
toggleBtn.Position = UDim2.new(0,10,0.5,-20)
toggleBtn.Text = "☰"
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextSize = 20
toggleBtn.TextColor3 = Color3.new(1,1,1)
toggleBtn.BackgroundColor3 = Color3.fromRGB(30,30,30)
Instance.new("UICorner", toggleBtn).CornerRadius = UDim.new(0,8)

local open = true
toggleBtn.MouseButton1Click:Connect(function()
    open = not open
    mainFrame.Visible = open
end)
